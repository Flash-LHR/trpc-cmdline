## example-4 自定义模板

### trpc create --assetdir

trpc 默认提供的代码模板，可能不能满足所有业务要求，如果想自定义代码模板，也是可以的，以 go 工程为例。

- 您可以copy/paste ~/.trpc-cmdline-assets/protobuf/asset_go/ 目录到自定义模板目录，如 mygo，然后在里面对模板进行调整、增删等；
  - 添加的文件，如果是以\*.tpl 结尾的，则创建工程时会作为模板被处理，反之当做普通文件直接拷贝；
  - 添加的目录，创建工程的时候，会保持原目录结构不变，将目录拷贝到生成的工程中；
  - 之后创建工程的时候，可以执行命令 `trpc create --assetdir=mygo -p protofile` 来应用模板。

注意：
添加目录、模板文件通常不会有问题，如果要调整现有的模板、路径，最好对现在的代码生成工具的逻辑有比较清晰的认识。
现有的一些逻辑是和目录结构相关的，贸然修改可能会导致生成的工程出问题，如引用关系错误、不能正常编译等。

- 如果您想直接修改~/.trpc-cmdline-assets/asset_go 下的模板文件，也是可以的，但是不推荐，原因如下：
  - 该工具的优化不仅是代码层面的，也有模板层面的调整，有些情况下工具升级后需要清理旧模板；
  - 为了使得工具能够自动清理旧模板，trpc 工具执行时会检查当前版本与机器上的模板版本是否一致，不一致则安装新模板；

注意：
这意味着，在路径下的~/.trpc-cmdline-assets/asset_go 下的修改可能会被新模板覆盖。所以还是建议如果确实有自定义模板需求，请独立目录维护模板。


